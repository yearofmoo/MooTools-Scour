<!DOCTYPE html> 
<html lang="en"> 
<head>
</head> 

<body id="" class=""> 
  <div data-role="Hello" data-hello-options="{ name : 'Name 1' }">
    Hello
  </div>
  <div data-role="Hello" data-hello-options="{ name : 'Name 2' }">
    Hello2
  </div>
  <div data-role="Jello" data-hello-options="{ name : 'fatias' }">
    Jello
  </div>
  <div data-role="Gello" data-hello-options="{ name : 'fatias' }">
    Jello
  </div>
  <a href="#" id="reload">Reload</a>
  <a href="/" id="reload">Other Website</a>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/mootools/1.4.4/mootools-yui-compressed.js"></script>
<script type="text/javascript" src="../../Source/MooTools-Scour.js"></script>
<script type="text/javascript">
window.addEvent('domready',function() {

  $('reload').addEvent('click',function(event) {
    event.stop();
    Scour.Global.reload();
    //Scour.Global.apply('Gello');
  });
   
  Scour.Global.defineRole('Gello',{
    onIterate : function(element,options) {
      var html = element.innerHTML;
      if(html == 'gello') {
        element.innerHTML = 'barcello';
      }
      else {
        element.innerHTML = 'gello';
      }
    }
  });
   
  Scour.Global.defineRole('Hello',{

    includeIf : function() {
      return true;
    },

    applyIf : function() {
      return true;
    },

    onLoad : function(element) {
      this.counter = 0;
      $(element).addEvent('click',function(event) {
        alert(this.innerHTML);
      });
    },

    onIterate : function(element,options) {
      var name = options.get('name');
      element.innerHTML = name + ' ' + (++this.counter);
      if(this.counter == 5) {
        options.set('name','tester ' + name);
      } 
    },

    onUnLoad : function(element,options) {
      element.destroy();
    }

  });

  new Scour().apply();
});
</script>
</body>
</html> 
